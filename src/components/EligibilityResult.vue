<template>
  <div class=\"space-y-6\">\n    <!-- Main Result Card -->\n    <div class=\"bg-white rounded-2xl shadow-xl p-8\">\n      <!-- Success/Failure Header -->\n      <div class=\"text-center mb-8\">\n        <div v-if=\"result.enrolled || result.canSchedule\" class=\"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n          <svg class=\"w-10 h-10 text-green-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n            <path fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" />\n          </svg>\n        </div>\n        <div v-else class=\"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n          <svg class=\"w-10 h-10 text-orange-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n            <path fill-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clip-rule=\"evenodd\" />\n          </svg>\n        </div>\n        \n        <h3 class=\"text-3xl font-bold text-slate-800 mb-2\">\n          {{ result.enrolled || result.canSchedule ? 'Great news!' : 'We want to help you' }}\n        </h3>\n        <p class=\"text-xl text-slate-600\">\n          {{ result.enrolled || result.canSchedule \n            ? 'We can help you with your mental healthcare' \n            : \"Let's explore your options together\" }}\n        </p>\n      </div>\n\n      <!-- Coverage Details -->\n      <div v-if=\"result.enrolled || result.canSchedule\" class=\"bg-green-50 border border-green-200 rounded-xl p-6 mb-6\">\n        <h4 class=\"font-semibold text-green-800 mb-3\">Your Coverage Status</h4>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div>\n            <div class=\"text-sm font-medium text-green-700\">Insurance Plan</div>\n            <div class=\"text-green-900 font-medium\">\n              {{ result.program || result.insuranceType?.name || 'Coverage Verified' }}\n            </div>\n          </div>\n          <div>\n            <div class=\"text-sm font-medium text-green-700\">Network Status</div>\n            <div class=\"flex items-center\">\n              <span v-if=\"result.networkStatus === 'in-network'\" class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                ‚úÖ In-Network\n              </span>\n              <span v-else-if=\"result.networkStatus === 'pending'\" class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\">\n                ‚è≥ Contract Pending\n              </span>\n              <span v-else class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                ‚úÖ Accepted\n              </span>\n            </div>\n          </div>\n          <div>\n            <div class=\"text-sm font-medium text-green-700\">Response Time</div>\n            <div class=\"text-green-900 font-medium\">{{ result.responseTime }}ms</div>\n          </div>\n        </div>\n        \n        <!-- Additional Coverage Info -->\n        <div v-if=\"result.details || result.contractMessage\" class=\"mt-4 p-3 bg-green-100 border border-green-200 rounded-lg\">\n          <p class=\"text-sm text-green-800\">\n            {{ result.contractMessage || result.details || 'Coverage verified successfully' }}\n          </p>\n        </div>\n      </div>\n\n      <!-- Issue Explanation for Non-Covered -->\n      <div v-else class=\"bg-orange-50 border border-orange-200 rounded-xl p-6 mb-6\">\n        <h4 class=\"font-semibold text-orange-800 mb-2\">About Your Coverage</h4>\n        <p class=\"text-orange-900\">\n          {{ result.error || result.message || 'We are not currently in-network with your insurance plan, but we have options to help you access care.' }}\n        </p>\n      </div>\n\n      <!-- Next Steps -->\n      <div class=\"space-y-4\">\n        <h4 class=\"text-lg font-semibold text-slate-800\">\n          {{ result.enrolled || result.canSchedule ? 'What happens next?' : 'Your options for care:' }}\n        </h4>\n        \n        <!-- In-Network Next Steps -->\n        <div v-if=\"result.enrolled || result.canSchedule\" class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div class=\"text-center p-4\">\n            <div class=\"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-2\">\n              <span class=\"text-orange-600 font-bold\">1</span>\n            </div>\n            <h5 class=\"font-medium text-slate-800 mb-1\">Book Your Appointment</h5>\n            <p class=\"text-sm text-slate-600\">Choose a convenient time slot</p>\n          </div>\n          <div class=\"text-center p-4\">\n            <div class=\"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-2\">\n              <span class=\"text-orange-600 font-bold\">2</span>\n            </div>\n            <h5 class=\"font-medium text-slate-800 mb-1\">Initial Consultation</h5>\n            <p class=\"text-sm text-slate-600\">Meet with our clinical team</p>\n          </div>\n          <div class=\"text-center p-4\">\n            <div class=\"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-2\">\n              <span class=\"text-orange-600 font-bold\">3</span>\n            </div>\n            <h5 class=\"font-medium text-slate-800 mb-1\">Begin Treatment</h5>\n            <p class=\"text-sm text-slate-600\">Start your care journey</p>\n          </div>\n        </div>\n        \n        <!-- Out-of-Network Options -->\n        <div v-else class=\"space-y-4\">\n          <!-- Self-Pay Option -->\n          <div class=\"border-2 border-stone-200 rounded-xl p-4 hover:border-orange-300 transition-colors\">\n            <div class=\"flex items-center space-x-4\">\n              <div class=\"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center\">\n                <svg class=\"w-5 h-5 text-green-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path d=\"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z\" />\n                  <path fill-rule=\"evenodd\" d=\"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z\" clip-rule=\"evenodd\" />\n                </svg>\n              </div>\n              <div class=\"flex-1\">\n                <h5 class=\"font-semibold text-slate-800\">Self-Pay Options Available</h5>\n                <p class=\"text-sm text-slate-600\">Competitive rates and payment plans available</p>\n              </div>\n              <button \n                @click=\"handleSelfPayInquiry\"\n                class=\"px-4 py-2 bg-[#BF9C73] text-white text-sm font-medium rounded-lg hover:bg-[#A8875F] transition-colors\"\n              >\n                Learn More\n              </button>\n            </div>\n          </div>\n\n          <!-- Out-of-Network Benefits -->\n          <div class=\"border-2 border-stone-200 rounded-xl p-4 hover:border-orange-300 transition-colors\">\n            <div class=\"flex items-center space-x-4\">\n              <div class=\"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center\">\n                <svg class=\"w-5 h-5 text-blue-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fill-rule=\"evenodd\" d=\"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z\" clip-rule=\"evenodd\" />\n                </svg>\n              </div>\n              <div class=\"flex-1\">\n                <h5 class=\"font-semibold text-slate-800\">Check Out-of-Network Benefits</h5>\n                <p class=\"text-sm text-slate-600\">Your plan may cover some out-of-network costs</p>\n              </div>\n              <button \n                @click=\"handleOutOfNetworkInquiry\"\n                class=\"px-4 py-2 border border-stone-300 text-slate-700 text-sm font-medium rounded-lg hover:bg-stone-50 transition-colors\"\n              >\n                Check Benefits\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Action Buttons -->\n      <div class=\"flex flex-col sm:flex-row gap-4 mt-8\">\n        <button \n          v-if=\"result.enrolled || result.canSchedule\"\n          @click=\"handleBookAppointment\"\n          class=\"flex-1 px-6 py-4 bg-[#BF9C73] text-white text-lg font-semibold rounded-xl hover:bg-[#A8875F] transition-colors flex items-center justify-center space-x-2\"\n        >\n          <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n          </svg>\n          <span>Book My Appointment</span>\n        </button>\n        \n        <button \n          @click=\"handleContactTeam\"\n          :class=\"[\n            'flex-1 px-6 py-4 text-lg font-medium rounded-xl transition-colors flex items-center justify-center space-x-2',\n            result.enrolled || result.canSchedule\n              ? 'border-2 border-stone-200 text-slate-700 hover:border-orange-300 hover:bg-orange-50/50'\n              : 'bg-[#BF9C73] text-white hover:bg-[#A8875F]'\n          ]\"\n        >\n          <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-3.582 8-8 8a8.959 8.959 0 01-4.906-1.439L3 21l2.439-5.094A8.959 8.959 0 013 12c0-4.418 3.582-8 8-8s8 3.582 8 8z\" />\n          </svg>\n          <span>{{ result.enrolled || result.canSchedule ? 'Questions?' : 'Contact Our Team' }}</span>\n        </button>\n      </div>\n    </div>\n\n    <!-- Additional Resources -->\n    <div class=\"bg-stone-50 rounded-xl p-6\">\n      <h4 class=\"font-semibold text-slate-800 mb-4\">Helpful Resources</h4>\n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div class=\"flex items-center space-x-3\">\n          <div class=\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center\">\n            <svg class=\"w-4 h-4 text-blue-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fill-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clip-rule=\"evenodd\" />\n            </svg>\n          </div>\n          <div>\n            <h5 class=\"font-medium text-slate-800\">Understanding Your Benefits</h5>\n            <p class=\"text-sm text-slate-600\">Learn about mental health coverage</p>\n          </div>\n        </div>\n        \n        <div class=\"flex items-center space-x-3\">\n          <div class=\"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center\">\n            <svg class=\"w-4 h-4 text-green-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fill-rule=\"evenodd\" d=\"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z\" clip-rule=\"evenodd\" />\n            </svg>\n          </div>\n          <div>\n            <h5 class=\"font-medium text-slate-800\">Mental Health Support</h5>\n            <p class=\"text-sm text-slate-600\">Crisis resources and support</p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Feedback Section -->\n    <div class=\"bg-white rounded-xl border-2 border-dashed border-stone-200 p-6 text-center\">\n      <p class=\"text-slate-600 mb-4\">\n        How was your experience with our eligibility checker?\n      </p>\n      <div class=\"flex justify-center space-x-2\">\n        <button \n          v-for=\"(emoji, rating) in ['üòû', 'üòê', 'üôÇ', 'üòä', 'ü§©']\" \n          :key=\"rating\"\n          @click=\"submitFeedback(rating + 1)\"\n          class=\"text-2xl hover:scale-110 transition-transform p-1\"\n          :title=\"`${rating + 1} star${rating !== 0 ? 's' : ''}`\"\n        >\n          {{ emoji }}\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'EligibilityResult',\n  props: {\n    result: {\n      type: Object,\n      required: true\n    },\n    patientInfo: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  emits: ['book-appointment', 'request-help'],\n  setup(props, { emit }) {\n    const handleBookAppointment = () => {\n      // Emit event with full result and patient info for booking\n      const bookingData = {\n        eligibilityResult: props.result,\n        patientInfo: props.patientInfo,\n        verified: props.result.enrolled || props.result.canSchedule\n      }\n      emit('book-appointment', bookingData)\n    }\n\n    const handleContactTeam = () => {\n      // Open contact form or redirect to support\n      console.log('Patient wants to contact team')\n      emit('request-help', {\n        type: 'contact',\n        result: props.result,\n        patientInfo: props.patientInfo\n      })\n    }\n\n    const handleSelfPayInquiry = () => {\n      console.log('Patient interested in self-pay options')\n      emit('request-help', {\n        type: 'self-pay',\n        result: props.result,\n        patientInfo: props.patientInfo\n      })\n    }\n\n    const handleOutOfNetworkInquiry = () => {\n      console.log('Patient wants to check out-of-network benefits')\n      emit('request-help', {\n        type: 'out-of-network',\n        result: props.result,\n        patientInfo: props.patientInfo\n      })\n    }\n\n    const submitFeedback = (rating) => {\n      console.log(`Patient rated experience: ${rating} stars`)\n      // Send feedback to analytics\n      // Show thank you message\n    }\n\n    return {\n      handleBookAppointment,\n      handleContactTeam,\n      handleSelfPayInquiry,\n      handleOutOfNetworkInquiry,\n      submitFeedback\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* Smooth animations for feedback buttons */\nbutton:hover {\n  transform: scale(1.02);\n}\n\n.feedback-emoji:hover {\n  filter: brightness(1.2);\n}\n</style>