<template>
  <div class="space-y-8">
    <!-- Admin Header with Provider Info -->\n    <div class=\"bg-white rounded-2xl shadow-xl p-6\">\n      <div class=\"flex items-center justify-between mb-6\">\n        <div>\n          <h3 class=\"text-xl font-semibold text-slate-800\">Provider Verification Portal</h3>\n          <p class=\"text-slate-600\">Same-day eligibility verification for clinical staff</p>\n        </div>\n        <div class=\"flex items-center space-x-6\">\n          <div class=\"text-right\">\n            <div class=\"text-sm text-slate-600\">Today's Verifications</div>\n            <div class=\"text-2xl font-bold text-[#BF9C73]\">{{ todayVerifications }}</div>\n          </div>\n          <div class=\"text-right\">\n            <div class=\"text-sm text-slate-600\">Success Rate</div>\n            <div class=\"text-2xl font-bold text-green-600\">{{ successRate }}%</div>\n          </div>\n          <div class=\"w-12 h-12 bg-[#BF9C73] rounded-full flex items-center justify-center\">\n            <span class=\"text-white font-semibold\">{{ currentProviderInitials }}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Provider Dashboard Stats -->\n      <div class=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\n        <div class=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n          <div class=\"text-sm text-blue-700 font-medium\">Scheduled Today</div>\n          <div class=\"text-2xl font-bold text-blue-900\">{{ scheduledToday }}</div>\n          <div class=\"text-xs text-blue-600\">{{ nextAppointmentTime }}</div>\n        </div>\n        <div class=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n          <div class=\"text-sm text-green-700 font-medium\">Verified Active</div>\n          <div class=\"text-2xl font-bold text-green-900\">{{ verifiedActive }}</div>\n        </div>\n        <div class=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n          <div class=\"text-sm text-yellow-700 font-medium\">Need Verification</div>\n          <div class=\"text-2xl font-bold text-yellow-900\">{{ needVerification }}</div>\n        </div>\n        <div class=\"bg-purple-50 border border-purple-200 rounded-lg p-4\">\n          <div class=\"text-sm text-purple-700 font-medium\">This Week</div>\n          <div class=\"text-2xl font-bold text-purple-900\">{{ weeklyTotal }}</div>\n        </div>\n        <div class=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n          <div class=\"text-sm text-gray-700 font-medium\">Avg Response</div>\n          <div class=\"text-2xl font-bold text-gray-900\">{{ avgResponseTime }}ms</div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Quick Verification Tools -->\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n      <!-- Same-Day Verification -->\n      <div class=\"bg-white rounded-2xl shadow-xl p-6\">\n        <div class=\"flex items-center space-x-3 mb-4\">\n          <div class=\"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center\">\n            <svg class=\"w-5 h-5 text-red-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z\" clip-rule=\"evenodd\" />\n            </svg>\n          </div>\n          <div>\n            <h4 class=\"text-lg font-semibold text-slate-800\">Same-Day Verification</h4>\n            <p class=\"text-sm text-slate-600\">Verify patient before appointment</p>\n          </div>\n        </div>\n        \n        <form @submit.prevent=\"performSameDayCheck\" class=\"space-y-4\">\n          <div class=\"grid grid-cols-2 gap-4\">\n            <input\n              v-model=\"sameDayCheck.firstName\"\n              type=\"text\"\n              placeholder=\"First Name *\"\n              class=\"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#BF9C73] focus:border-[#BF9C73]\"\n              required\n            >\n            <input\n              v-model=\"sameDayCheck.lastName\"\n              type=\"text\"\n              placeholder=\"Last Name *\"\n              class=\"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#BF9C73] focus:border-[#BF9C73]\"\n              required\n            >\n          </div>\n          <input\n            v-model=\"sameDayCheck.dob\"\n            type=\"date\"\n            class=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#BF9C73] focus:border-[#BF9C73]\"\n            required\n          >\n          <div class=\"grid grid-cols-2 gap-4\">\n            <input\n              v-model=\"sameDayCheck.medicaidId\"\n              type=\"text\"\n              placeholder=\"Medicaid ID\"\n              class=\"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#BF9C73] focus:border-[#BF9C73]\"\n            >\n            <select\n              v-model=\"sameDayCheck.appointmentType\"\n              class=\"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#BF9C73] focus:border-[#BF9C73]\"\n            >\n              <option value=\"\">Appointment Type</option>\n              <option value=\"initial-consultation\">Initial Consultation</option>\n              <option value=\"follow-up\">Follow-up</option>\n              <option value=\"med-management\">Medication Management</option>\n              <option value=\"therapy\">Therapy Session</option>\n              <option value=\"assessment\">Assessment</option>\n            </select>\n          </div>\n          \n          <div class=\"flex items-center space-x-3\">\n            <input\n              id=\"urgent\"\n              v-model=\"sameDayCheck.urgent\"\n              type=\"checkbox\"\n              class=\"w-4 h-4 text-[#BF9C73] border-gray-300 rounded focus:ring-[#BF9C73]\"\n            >\n            <label for=\"urgent\" class=\"text-sm text-slate-700\">\n              🚨 Urgent - Patient waiting in clinic\n            </label>\n          </div>\n          \n          <button\n            type=\"submit\"\n            :disabled=\"sameDayLoading\"\n            :class=\"[\n              'w-full px-4 py-3 font-medium rounded-lg transition-all duration-200',\n              sameDayCheck.urgent \n                ? 'bg-red-600 hover:bg-red-700 text-white'\n                : 'bg-[#BF9C73] hover:bg-[#A8875F] text-white',\n              sameDayLoading ? 'opacity-50 cursor-not-allowed' : ''\n            ]\"\n          >\n            <div v-if=\"sameDayLoading\" class=\"flex items-center justify-center space-x-2\">\n              <div class=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n              <span>{{ sameDayCheck.urgent ? 'URGENT VERIFICATION...' : 'Verifying Coverage...' }}</span>\n            </div>\n            <span v-else>\n              {{ sameDayCheck.urgent ? '🚨 URGENT VERIFY' : 'Verify Coverage' }}\n            </span>\n          </button>\n        </form>\n        \n        <!-- Same-Day Result -->\n        <div v-if=\"sameDayResult\" class=\"mt-4\">\n          <div :class=\"[\n            'p-4 rounded-lg border-l-4',\n            sameDayResult.enrolled \n              ? 'bg-green-50 border-green-400 border-l-green-400'\n              : 'bg-red-50 border-red-400 border-l-red-400'\n          ]\">\n            <div class=\"flex items-center space-x-2 mb-2\">\n              <div v-if=\"sameDayResult.enrolled\" class=\"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center\">\n                <svg class=\"w-4 h-4 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fill-rule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clip-rule=\"evenodd\" />\n                </svg>\n              </div>\n              <div v-else class=\"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center\">\n                <svg class=\"w-4 h-4 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clip-rule=\"evenodd\" />\n                </svg>\n              </div>\n              <span class=\"font-semibold\" :class=\"sameDayResult.enrolled ? 'text-green-800' : 'text-red-800'\">\n                {{ sameDayResult.enrolled ? 'COVERED - Proceed with Appointment' : 'NOT COVERED - Patient Responsibility' }}\n              </span>\n            </div>\n            \n            <div class=\"text-sm\" :class=\"sameDayResult.enrolled ? 'text-green-700' : 'text-red-700'\">\n              <div v-if=\"sameDayResult.enrolled\">\n                <strong>Plan:</strong> {{ sameDayResult.program || 'Utah Medicaid' }}<br>\n                <strong>Coverage:</strong> {{ sameDayResult.details || 'Active coverage verified' }}<br>\n                <strong>Response Time:</strong> {{ sameDayResult.responseTime || 'Unknown' }}ms\n              </div>\n              <div v-else>\n                <strong>Issue:</strong> {{ sameDayResult.error || 'No active coverage found' }}<br>\n                <strong>Next Steps:</strong> Discuss self-pay options with patient\n              </div>\n            </div>\n            \n            <!-- Quick Actions for Staff -->\n            <div class=\"mt-3 flex space-x-2\">\n              <button \n                v-if=\"sameDayResult.enrolled\"\n                @click=\"proceedWithAppointment\"\n                class=\"px-3 py-1 bg-green-600 text-white text-xs font-medium rounded hover:bg-green-700\"\n              >\n                ✓ Proceed with Appointment\n              </button>\n              <button \n                v-else\n                @click=\"discussSelfPay\"\n                class=\"px-3 py-1 bg-orange-600 text-white text-xs font-medium rounded hover:bg-orange-700\"\n              >\n                💬 Discuss Self-Pay\n              </button>\n              <button \n                @click=\"saveToPatientRecord\"\n                class=\"px-3 py-1 bg-blue-600 text-white text-xs font-medium rounded hover:bg-blue-700\"\n              >\n                💾 Save to Record\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Batch Verification -->\n      <div class=\"bg-white rounded-2xl shadow-xl p-6\">\n        <div class=\"flex items-center space-x-3 mb-4\">\n          <div class=\"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center\">\n            <svg class=\"w-5 h-5 text-purple-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fill-rule=\"evenodd\" d=\"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z\" clip-rule=\"evenodd\" />\n            </svg>\n          </div>\n          <div>\n            <h4 class=\"text-lg font-semibold text-slate-800\">Batch Verification</h4>\n            <p class=\"text-sm text-slate-600\">Process multiple patients at once</p>\n          </div>\n        </div>\n        \n        <!-- Today's Schedule Preview -->\n        <div class=\"mb-4\">\n          <div class=\"flex items-center justify-between mb-2\">\n            <span class=\"text-sm font-medium text-slate-700\">Today's Schedule</span>\n            <button \n              @click=\"refreshSchedule\"\n              class=\"text-xs text-blue-600 hover:text-blue-800\"\n            >\n              🔄 Refresh\n            </button>\n          </div>\n          <div class=\"max-h-40 overflow-y-auto space-y-2\">\n            <div \n              v-for=\"appointment in todaysSchedule\" \n              :key=\"appointment.id\"\n              class=\"flex items-center justify-between p-2 bg-gray-50 rounded-lg text-sm\"\n            >\n              <div>\n                <span class=\"font-medium\">{{ appointment.time }}</span>\n                <span class=\"text-slate-600 ml-2\">{{ appointment.name }}</span>\n              </div>\n              <div class=\"flex items-center space-x-2\">\n                <span :class=\"[\n                  'px-2 py-1 rounded-full text-xs',\n                  appointment.verified ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'\n                ]\">\n                  {{ appointment.verified ? '✓' : '?' }}\n                </span>\n                <button \n                  v-if=\"!appointment.verified\"\n                  @click=\"quickVerifyAppointment(appointment)\"\n                  class=\"text-xs text-blue-600 hover:text-blue-800\"\n                >\n                  Verify\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- Batch Actions -->\n        <div class=\"space-y-3\">\n          <button \n            @click=\"verifyAllScheduled\"\n            :disabled=\"batchProcessing\"\n            class=\"w-full px-4 py-3 bg-purple-600 text-white font-medium rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50\"\n          >\n            {{ batchProcessing ? 'Processing...' : `Verify All Today's Appointments (${todaysSchedule.filter(a => !a.verified).length})` }}\n          </button>\n          \n          <div class=\"relative\">\n            <input\n              type=\"file\"\n              ref=\"batchFileInput\"\n              @change=\"handleBatchUpload\"\n              accept=\".csv,.xlsx,.xls\"\n              class=\"hidden\"\n            >\n            <button \n              @click=\"$refs.batchFileInput.click()\"\n              class=\"w-full px-4 py-3 border-2 border-dashed border-gray-300 text-gray-600 font-medium rounded-lg hover:border-gray-400 transition-colors\"\n            >\n              📁 Upload Patient List (CSV/Excel)\n            </button>\n          </div>\n        </div>\n        \n        <!-- Batch Progress -->\n        <div v-if=\"batchProgress.total > 0\" class=\"mt-4\">\n          <div class=\"flex items-center justify-between text-sm text-slate-600 mb-2\">\n            <span>Processing: {{ batchProgress.completed }} / {{ batchProgress.total }}</span>\n            <span>{{ Math.round((batchProgress.completed / batchProgress.total) * 100) }}%</span>\n          </div>\n          <div class=\"w-full bg-gray-200 rounded-full h-2\">\n            <div \n              class=\"bg-purple-600 h-2 rounded-full transition-all duration-300\"\n              :style=\"{ width: `${(batchProgress.completed / batchProgress.total) * 100}%` }\"\n            ></div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Recent Verification History -->\n    <div class=\"bg-white rounded-2xl shadow-xl\">\n      <div class=\"p-6 border-b border-gray-200\">\n        <div class=\"flex items-center justify-between\">\n          <h4 class=\"text-lg font-semibold text-slate-800\">Recent Verifications</h4>\n          <div class=\"flex items-center space-x-2\">\n            <select \n              v-model=\"historyFilter\"\n              class=\"px-3 py-2 border border-gray-300 rounded-lg text-sm\"\n            >\n              <option value=\"today\">Today</option>\n              <option value=\"week\">This Week</option>\n              <option value=\"month\">This Month</option>\n            </select>\n            <button \n              @click=\"exportHistory\"\n              class=\"px-3 py-2 bg-gray-100 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-200\"\n            >\n              📊 Export\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Verification History Table -->\n      <div class=\"overflow-x-auto\">\n        <table class=\"w-full\">\n          <thead class=\"bg-gray-50\">\n            <tr>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Time</th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Patient</th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Result</th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Plan</th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Staff</th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase\">Action</th>\n            </tr>\n          </thead>\n          <tbody class=\"bg-white divide-y divide-gray-200\">\n            <tr v-for=\"record in filteredHistory\" :key=\"record.id\" class=\"hover:bg-gray-50\">\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                {{ record.time }}\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <div class=\"text-sm font-medium text-gray-900\">{{ record.patientName }}</div>\n                <div class=\"text-sm text-gray-500\">DOB: {{ record.dob }}</div>\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap\">\n                <span :class=\"[\n                  'inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium',\n                  record.result === 'covered' ? 'bg-green-100 text-green-800' :\n                  record.result === 'not-covered' ? 'bg-red-100 text-red-800' :\n                  'bg-yellow-100 text-yellow-800'\n                ]\">\n                  {{ record.result === 'covered' ? '✅ Covered' :\n                     record.result === 'not-covered' ? '❌ Not Covered' :\n                     '⏳ Pending' }}\n                </span>\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                {{ record.plan || 'N/A' }}\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                {{ record.staff }}\n              </td>\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm\">\n                <button \n                  @click=\"viewDetails(record)\"\n                  class=\"text-blue-600 hover:text-blue-800 font-medium\"\n                >\n                  View\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted } from 'vue'\n\nexport default {\n  name: 'AdminVerificationDashboard',\n  emits: ['verify-patient', 'bulk-process'],\n  setup(props, { emit }) {\n    // Dashboard stats\n    const todayVerifications = ref(23)\n    const successRate = ref(87)\n    const currentProviderInitials = ref('JS')\n    const scheduledToday = ref(12)\n    const nextAppointmentTime = ref('Next: 2:30 PM')\n    const verifiedActive = ref(8)\n    const needVerification = ref(4)\n    const weeklyTotal = ref(89)\n    const avgResponseTime = ref(650)\n\n    // Same-day verification\n    const sameDayCheck = ref({\n      firstName: '',\n      lastName: '',\n      dob: '',\n      medicaidId: '',\n      appointmentType: '',\n      urgent: false\n    })\n    const sameDayLoading = ref(false)\n    const sameDayResult = ref(null)\n\n    // Batch processing\n    const batchProcessing = ref(false)\n    const batchProgress = ref({ completed: 0, total: 0 })\n\n    // Today's schedule\n    const todaysSchedule = ref([\n      { id: 1, time: '9:00 AM', name: 'Sarah Johnson', verified: true },\n      { id: 2, time: '9:30 AM', name: 'Michael Chen', verified: false },\n      { id: 3, time: '10:00 AM', name: 'Jennifer Martinez', verified: true },\n      { id: 4, time: '10:30 AM', name: 'David Wilson', verified: false },\n      { id: 5, time: '11:00 AM', name: 'Lisa Thompson', verified: false },\n      { id: 6, time: '2:30 PM', name: 'Robert Garcia', verified: false },\n      { id: 7, time: '3:00 PM', name: 'Amanda Davis', verified: true },\n      { id: 8, time: '3:30 PM', name: 'Christopher Miller', verified: false }\n    ])\n\n    // Verification history\n    const historyFilter = ref('today')\n    const verificationHistory = ref([\n      {\n        id: 1,\n        time: '8:45 AM',\n        patientName: 'Sarah Johnson',\n        dob: '1985-03-15',\n        result: 'covered',\n        plan: 'Utah Medicaid',\n        staff: 'Dr. Smith',\n        responseTime: 580\n      },\n      {\n        id: 2,\n        time: '8:30 AM',\n        patientName: 'Jennifer Martinez',\n        dob: '1978-11-08',\n        result: 'covered',\n        plan: 'Molina Healthcare',\n        staff: 'Dr. Smith',\n        responseTime: 720\n      },\n      {\n        id: 3,\n        time: '8:15 AM',\n        patientName: 'Amanda Davis',\n        dob: '1992-06-22',\n        result: 'not-covered',\n        plan: null,\n        staff: 'Dr. Smith',\n        responseTime: 450\n      }\n    ])\n\n    // Computed\n    const filteredHistory = computed(() => {\n      // Filter based on selected time period\n      return verificationHistory.value\n    })\n\n    // Methods\n    const performSameDayCheck = async () => {\n      sameDayLoading.value = true\n      sameDayResult.value = null\n      \n      try {\n        const startTime = Date.now()\n        \n        const response = await fetch('/api/medicaid/check', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            first: sameDayCheck.value.firstName,\n            last: sameDayCheck.value.lastName,\n            dob: sameDayCheck.value.dob,\n            medicaidId: sameDayCheck.value.medicaidId,\n            appointmentType: sameDayCheck.value.appointmentType,\n            urgent: sameDayCheck.value.urgent\n          })\n        })\n        \n        const result = await response.json()\n        const responseTime = Date.now() - startTime\n        \n        sameDayResult.value = {\n          ...result,\n          responseTime\n        }\n        \n        // Add to history\n        verificationHistory.value.unshift({\n          id: Date.now(),\n          time: new Date().toLocaleTimeString('en-US', { \n            hour: 'numeric', \n            minute: '2-digit',\n            hour12: true \n          }),\n          patientName: `${sameDayCheck.value.firstName} ${sameDayCheck.value.lastName}`,\n          dob: sameDayCheck.value.dob,\n          result: result.enrolled ? 'covered' : 'not-covered',\n          plan: result.program || null,\n          staff: 'Dr. Smith', // Current provider\n          responseTime\n        })\n        \n        // Update stats\n        todayVerifications.value++\n        \n        emit('verify-patient', {\n          type: 'same-day',\n          patient: sameDayCheck.value,\n          result: sameDayResult.value,\n          urgent: sameDayCheck.value.urgent\n        })\n        \n      } catch (error) {\n        console.error('Same-day verification failed:', error)\n        sameDayResult.value = {\n          enrolled: false,\n          error: 'Verification system temporarily unavailable'\n        }\n      } finally {\n        sameDayLoading.value = false\n      }\n    }\n\n    const quickVerifyAppointment = async (appointment) => {\n      console.log('Quick verifying:', appointment)\n      // Set the appointment as being verified\n      const appointmentIndex = todaysSchedule.value.findIndex(a => a.id === appointment.id)\n      if (appointmentIndex !== -1) {\n        // Simulate verification\n        await new Promise(resolve => setTimeout(resolve, 1000))\n        todaysSchedule.value[appointmentIndex].verified = true\n        verifiedActive.value++\n        needVerification.value--\n      }\n    }\n\n    const verifyAllScheduled = async () => {\n      batchProcessing.value = true\n      const unverified = todaysSchedule.value.filter(a => !a.verified)\n      \n      batchProgress.value = {\n        completed: 0,\n        total: unverified.length\n      }\n      \n      for (let i = 0; i < unverified.length; i++) {\n        // Simulate verification process\n        await new Promise(resolve => setTimeout(resolve, 800))\n        \n        const appointment = unverified[i]\n        const appointmentIndex = todaysSchedule.value.findIndex(a => a.id === appointment.id)\n        \n        if (appointmentIndex !== -1) {\n          todaysSchedule.value[appointmentIndex].verified = true\n          verifiedActive.value++\n          needVerification.value--\n        }\n        \n        batchProgress.value.completed++\n      }\n      \n      // Reset progress after completion\n      setTimeout(() => {\n        batchProgress.value = { completed: 0, total: 0 }\n      }, 2000)\n      \n      batchProcessing.value = false\n      \n      emit('bulk-process', {\n        type: 'scheduled-appointments',\n        processed: unverified.length,\n        results: unverified.map(a => ({ ...a, verified: true }))\n      })\n    }\n\n    const handleBatchUpload = (event) => {\n      const file = event.target.files[0]\n      if (file) {\n        console.log('Processing batch file:', file.name)\n        // Process CSV/Excel file\n        processBatchFile(file)\n      }\n    }\n\n    const processBatchFile = async (file) => {\n      batchProcessing.value = true\n      // Simulate file processing\n      batchProgress.value = { completed: 0, total: 15 }\n      \n      for (let i = 0; i < 15; i++) {\n        await new Promise(resolve => setTimeout(resolve, 500))\n        batchProgress.value.completed++\n      }\n      \n      batchProcessing.value = false\n      batchProgress.value = { completed: 0, total: 0 }\n      \n      alert(`Successfully processed ${15} patients from ${file.name}`)\n    }\n\n    const refreshSchedule = () => {\n      console.log('Refreshing schedule...')\n      // Refresh today's appointments from EMR/scheduling system\n    }\n\n    const proceedWithAppointment = () => {\n      console.log('Proceeding with appointment for covered patient')\n      // Clear form and show success message\n      sameDayCheck.value = {\n        firstName: '',\n        lastName: '',\n        dob: '',\n        medicaidId: '',\n        appointmentType: '',\n        urgent: false\n      }\n      sameDayResult.value = null\n    }\n\n    const discussSelfPay = () => {\n      console.log('Discussing self-pay options with patient')\n      // Show self-pay information\n    }\n\n    const saveToPatientRecord = () => {\n      console.log('Saving verification result to patient record')\n      // Save to EMR\n    }\n\n    const exportHistory = () => {\n      console.log('Exporting verification history')\n      // Export to CSV/Excel\n    }\n\n    const viewDetails = (record) => {\n      console.log('Viewing details for:', record)\n      // Show detailed verification information\n    }\n\n    return {\n      todayVerifications,\n      successRate,\n      currentProviderInitials,\n      scheduledToday,\n      nextAppointmentTime,\n      verifiedActive,\n      needVerification,\n      weeklyTotal,\n      avgResponseTime,\n      sameDayCheck,\n      sameDayLoading,\n      sameDayResult,\n      batchProcessing,\n      batchProgress,\n      todaysSchedule,\n      historyFilter,\n      verificationHistory,\n      filteredHistory,\n      performSameDayCheck,\n      quickVerifyAppointment,\n      verifyAllScheduled,\n      handleBatchUpload,\n      refreshSchedule,\n      proceedWithAppointment,\n      discussSelfPay,\n      saveToPatientRecord,\n      exportHistory,\n      viewDetails\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* Admin dashboard specific styling */\n.urgent-indicator {\n  animation: pulse 2s infinite;\n}\n\n@keyframes pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.7;\n  }\n}\n\n/* Hover effects */\ntable tr:hover {\n  background-color: rgba(249, 250, 251, 0.5);\n  transition: background-color 0.2s ease;\n}\n\n/* Status indicators */\n.status-indicator {\n  position: relative;\n}\n\n.status-indicator::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  animation: ripple 2s infinite;\n}\n\n@keyframes ripple {\n  0% {\n    transform: scale(1);\n    opacity: 1;\n  }\n  100% {\n    transform: scale(2);\n    opacity: 0;\n  }\n}\n</style>